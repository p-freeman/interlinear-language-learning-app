{"dependencies":[{"name":"./stream/StreamHelper","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":3,"column":19,"index":34},"end":{"line":3,"column":51,"index":66}}],"key":"KA0a9Ol3EL8OkSpNAD/hOivxZ7Y=","exportNames":["*"],"imports":1}},{"name":"./stream/DataWorker","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":4,"column":17,"index":85},"end":{"line":4,"column":47,"index":115}}],"key":"P8M77B/leuUf0ehUXciMLdgxUn0=","exportNames":["*"],"imports":1}},{"name":"./utf8","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":5,"column":11,"index":128},"end":{"line":5,"column":28,"index":145}}],"key":"VSkyiflWoZ6NNcr2kHLlSXRzfqg=","exportNames":["*"],"imports":1}},{"name":"./compressedObject","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":6,"column":23,"index":170},"end":{"line":6,"column":52,"index":199}}],"key":"SVYXTtqKfqCXq8Jp55igUqgIgpM=","exportNames":["*"],"imports":1}},{"name":"./stream/GenericWorker","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":20,"index":221},"end":{"line":7,"column":53,"index":254}}],"key":"MymtXhR8olOTwX44v19Y97zo9MM=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var StreamHelper = require(_dependencyMap[0], \"./stream/StreamHelper\");\n  var DataWorker = require(_dependencyMap[1], \"./stream/DataWorker\");\n  var utf8 = require(_dependencyMap[2], \"./utf8\");\n  var CompressedObject = require(_dependencyMap[3], \"./compressedObject\");\n  var GenericWorker = require(_dependencyMap[4], \"./stream/GenericWorker\");\n\n  /**\n   * A simple object representing a file in the zip file.\n   * @constructor\n   * @param {string} name the name of the file\n   * @param {String|ArrayBuffer|Uint8Array|Buffer} data the data\n   * @param {Object} options the options of the file\n   */\n  var ZipObject = function (name, data, options) {\n    this.name = name;\n    this.dir = options.dir;\n    this.date = options.date;\n    this.comment = options.comment;\n    this.unixPermissions = options.unixPermissions;\n    this.dosPermissions = options.dosPermissions;\n    this._data = data;\n    this._dataBinary = options.binary;\n    // keep only the compression\n    this.options = {\n      compression: options.compression,\n      compressionOptions: options.compressionOptions\n    };\n  };\n  ZipObject.prototype = {\n    /**\n     * Create an internal stream for the content of this object.\n     * @param {String} type the type of each chunk.\n     * @return StreamHelper the stream.\n     */\n    internalStream: function (type) {\n      var result = null,\n        outputType = \"string\";\n      try {\n        if (!type) {\n          throw new Error(\"No output type specified.\");\n        }\n        outputType = type.toLowerCase();\n        var askUnicodeString = outputType === \"string\" || outputType === \"text\";\n        if (outputType === \"binarystring\" || outputType === \"text\") {\n          outputType = \"string\";\n        }\n        result = this._decompressWorker();\n        var isUnicodeString = !this._dataBinary;\n        if (isUnicodeString && !askUnicodeString) {\n          result = result.pipe(new utf8.Utf8EncodeWorker());\n        }\n        if (!isUnicodeString && askUnicodeString) {\n          result = result.pipe(new utf8.Utf8DecodeWorker());\n        }\n      } catch (e) {\n        result = new GenericWorker(\"error\");\n        result.error(e);\n      }\n      return new StreamHelper(result, outputType, \"\");\n    },\n    /**\n     * Prepare the content in the asked type.\n     * @param {String} type the type of the result.\n     * @param {Function} onUpdate a function to call on each internal update.\n     * @return Promise the promise of the result.\n     */\n    async: function (type, onUpdate) {\n      return this.internalStream(type).accumulate(onUpdate);\n    },\n    /**\n     * Prepare the content as a nodejs stream.\n     * @param {String} type the type of each chunk.\n     * @param {Function} onUpdate a function to call on each internal update.\n     * @return Stream the stream.\n     */\n    nodeStream: function (type, onUpdate) {\n      return this.internalStream(type || \"nodebuffer\").toNodejsStream(onUpdate);\n    },\n    /**\n     * Return a worker for the compressed content.\n     * @private\n     * @param {Object} compression the compression object to use.\n     * @param {Object} compressionOptions the options to use when compressing.\n     * @return Worker the worker.\n     */\n    _compressWorker: function (compression, compressionOptions) {\n      if (this._data instanceof CompressedObject && this._data.compression.magic === compression.magic) {\n        return this._data.getCompressedWorker();\n      } else {\n        var result = this._decompressWorker();\n        if (!this._dataBinary) {\n          result = result.pipe(new utf8.Utf8EncodeWorker());\n        }\n        return CompressedObject.createWorkerFrom(result, compression, compressionOptions);\n      }\n    },\n    /**\n     * Return a worker for the decompressed content.\n     * @private\n     * @return Worker the worker.\n     */\n    _decompressWorker: function () {\n      if (this._data instanceof CompressedObject) {\n        return this._data.getContentWorker();\n      } else if (this._data instanceof GenericWorker) {\n        return this._data;\n      } else {\n        return new DataWorker(this._data);\n      }\n    }\n  };\n  var removedMethods = [\"asText\", \"asBinary\", \"asNodeBuffer\", \"asUint8Array\", \"asArrayBuffer\"];\n  var removedFn = function () {\n    throw new Error(\"This method has been removed in JSZip 3.0, please check the upgrade guide.\");\n  };\n  for (var i = 0; i < removedMethods.length; i++) {\n    ZipObject.prototype[removedMethods[i]] = removedFn;\n  }\n  module.exports = ZipObject;\n});","lineCount":123,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0],[4,6,3,4,"StreamHelper"],[4,18,3,16],[4,21,3,19,"require"],[4,28,3,26],[4,29,3,26,"_dependencyMap"],[4,43,3,26],[4,71,3,50],[4,72,3,51],[5,2,4,0],[5,6,4,4,"DataWorker"],[5,16,4,14],[5,19,4,17,"require"],[5,26,4,24],[5,27,4,24,"_dependencyMap"],[5,41,4,24],[5,67,4,46],[5,68,4,47],[6,2,5,0],[6,6,5,4,"utf8"],[6,10,5,8],[6,13,5,11,"require"],[6,20,5,18],[6,21,5,18,"_dependencyMap"],[6,35,5,18],[6,48,5,27],[6,49,5,28],[7,2,6,0],[7,6,6,4,"CompressedObject"],[7,22,6,20],[7,25,6,23,"require"],[7,32,6,30],[7,33,6,30,"_dependencyMap"],[7,47,6,30],[7,72,6,51],[7,73,6,52],[8,2,7,0],[8,6,7,4,"GenericWorker"],[8,19,7,17],[8,22,7,20,"require"],[8,29,7,27],[8,30,7,27,"_dependencyMap"],[8,44,7,27],[8,73,7,52],[8,74,7,53],[10,2,9,0],[11,0,10,0],[12,0,11,0],[13,0,12,0],[14,0,13,0],[15,0,14,0],[16,0,15,0],[17,2,16,0],[17,6,16,4,"ZipObject"],[17,15,16,13],[17,18,16,16],[17,27,16,16,"ZipObject"],[17,28,16,25,"name"],[17,32,16,29],[17,34,16,31,"data"],[17,38,16,35],[17,40,16,37,"options"],[17,47,16,44],[17,49,16,46],[18,4,17,4],[18,8,17,8],[18,9,17,9,"name"],[18,13,17,13],[18,16,17,16,"name"],[18,20,17,20],[19,4,18,4],[19,8,18,8],[19,9,18,9,"dir"],[19,12,18,12],[19,15,18,15,"options"],[19,22,18,22],[19,23,18,23,"dir"],[19,26,18,26],[20,4,19,4],[20,8,19,8],[20,9,19,9,"date"],[20,13,19,13],[20,16,19,16,"options"],[20,23,19,23],[20,24,19,24,"date"],[20,28,19,28],[21,4,20,4],[21,8,20,8],[21,9,20,9,"comment"],[21,16,20,16],[21,19,20,19,"options"],[21,26,20,26],[21,27,20,27,"comment"],[21,34,20,34],[22,4,21,4],[22,8,21,8],[22,9,21,9,"unixPermissions"],[22,24,21,24],[22,27,21,27,"options"],[22,34,21,34],[22,35,21,35,"unixPermissions"],[22,50,21,50],[23,4,22,4],[23,8,22,8],[23,9,22,9,"dosPermissions"],[23,23,22,23],[23,26,22,26,"options"],[23,33,22,33],[23,34,22,34,"dosPermissions"],[23,48,22,48],[24,4,24,4],[24,8,24,8],[24,9,24,9,"_data"],[24,14,24,14],[24,17,24,17,"data"],[24,21,24,21],[25,4,25,4],[25,8,25,8],[25,9,25,9,"_dataBinary"],[25,20,25,20],[25,23,25,23,"options"],[25,30,25,30],[25,31,25,31,"binary"],[25,37,25,37],[26,4,26,4],[27,4,27,4],[27,8,27,8],[27,9,27,9,"options"],[27,16,27,16],[27,19,27,19],[28,6,28,8,"compression"],[28,17,28,19],[28,19,28,22,"options"],[28,26,28,29],[28,27,28,30,"compression"],[28,38,28,41],[29,6,29,8,"compressionOptions"],[29,24,29,26],[29,26,29,29,"options"],[29,33,29,36],[29,34,29,37,"compressionOptions"],[30,4,30,4],[30,5,30,5],[31,2,31,0],[31,3,31,1],[32,2,33,0,"ZipObject"],[32,11,33,9],[32,12,33,10,"prototype"],[32,21,33,19],[32,24,33,22],[33,4,34,4],[34,0,35,0],[35,0,36,0],[36,0,37,0],[37,0,38,0],[38,4,39,4,"internalStream"],[38,18,39,18],[38,20,39,20],[38,29,39,20,"internalStream"],[38,30,39,30,"type"],[38,34,39,34],[38,36,39,36],[39,6,40,8],[39,10,40,12,"result"],[39,16,40,18],[39,19,40,21],[39,23,40,25],[40,8,40,27,"outputType"],[40,18,40,37],[40,21,40,40],[40,29,40,48],[41,6,41,8],[41,10,41,12],[42,8,42,12],[42,12,42,16],[42,13,42,17,"type"],[42,17,42,21],[42,19,42,23],[43,10,43,16],[43,16,43,22],[43,20,43,26,"Error"],[43,25,43,31],[43,26,43,32],[43,53,43,59],[43,54,43,60],[44,8,44,12],[45,8,45,12,"outputType"],[45,18,45,22],[45,21,45,25,"type"],[45,25,45,29],[45,26,45,30,"toLowerCase"],[45,37,45,41],[45,38,45,42],[45,39,45,43],[46,8,46,12],[46,12,46,16,"askUnicodeString"],[46,28,46,32],[46,31,46,35,"outputType"],[46,41,46,45],[46,46,46,50],[46,54,46,58],[46,58,46,62,"outputType"],[46,68,46,72],[46,73,46,77],[46,79,46,83],[47,8,47,12],[47,12,47,16,"outputType"],[47,22,47,26],[47,27,47,31],[47,41,47,45],[47,45,47,49,"outputType"],[47,55,47,59],[47,60,47,64],[47,66,47,70],[47,68,47,72],[48,10,48,16,"outputType"],[48,20,48,26],[48,23,48,29],[48,31,48,37],[49,8,49,12],[50,8,50,12,"result"],[50,14,50,18],[50,17,50,21],[50,21,50,25],[50,22,50,26,"_decompressWorker"],[50,39,50,43],[50,40,50,44],[50,41,50,45],[51,8,52,12],[51,12,52,16,"isUnicodeString"],[51,27,52,31],[51,30,52,34],[51,31,52,35],[51,35,52,39],[51,36,52,40,"_dataBinary"],[51,47,52,51],[52,8,54,12],[52,12,54,16,"isUnicodeString"],[52,27,54,31],[52,31,54,35],[52,32,54,36,"askUnicodeString"],[52,48,54,52],[52,50,54,54],[53,10,55,16,"result"],[53,16,55,22],[53,19,55,25,"result"],[53,25,55,31],[53,26,55,32,"pipe"],[53,30,55,36],[53,31,55,37],[53,35,55,41,"utf8"],[53,39,55,45],[53,40,55,46,"Utf8EncodeWorker"],[53,56,55,62],[53,57,55,63],[53,58,55,64],[53,59,55,65],[54,8,56,12],[55,8,57,12],[55,12,57,16],[55,13,57,17,"isUnicodeString"],[55,28,57,32],[55,32,57,36,"askUnicodeString"],[55,48,57,52],[55,50,57,54],[56,10,58,16,"result"],[56,16,58,22],[56,19,58,25,"result"],[56,25,58,31],[56,26,58,32,"pipe"],[56,30,58,36],[56,31,58,37],[56,35,58,41,"utf8"],[56,39,58,45],[56,40,58,46,"Utf8DecodeWorker"],[56,56,58,62],[56,57,58,63],[56,58,58,64],[56,59,58,65],[57,8,59,12],[58,6,60,8],[58,7,60,9],[58,8,60,10],[58,15,60,17,"e"],[58,16,60,18],[58,18,60,20],[59,8,61,12,"result"],[59,14,61,18],[59,17,61,21],[59,21,61,25,"GenericWorker"],[59,34,61,38],[59,35,61,39],[59,42,61,46],[59,43,61,47],[60,8,62,12,"result"],[60,14,62,18],[60,15,62,19,"error"],[60,20,62,24],[60,21,62,25,"e"],[60,22,62,26],[60,23,62,27],[61,6,63,8],[62,6,65,8],[62,13,65,15],[62,17,65,19,"StreamHelper"],[62,29,65,31],[62,30,65,32,"result"],[62,36,65,38],[62,38,65,40,"outputType"],[62,48,65,50],[62,50,65,52],[62,52,65,54],[62,53,65,55],[63,4,66,4],[63,5,66,5],[64,4,68,4],[65,0,69,0],[66,0,70,0],[67,0,71,0],[68,0,72,0],[69,0,73,0],[70,4,74,4,"async"],[70,9,74,9],[70,11,74,11],[70,20,74,11,"async"],[70,21,74,21,"type"],[70,25,74,25],[70,27,74,27,"onUpdate"],[70,35,74,35],[70,37,74,37],[71,6,75,8],[71,13,75,15],[71,17,75,19],[71,18,75,20,"internalStream"],[71,32,75,34],[71,33,75,35,"type"],[71,37,75,39],[71,38,75,40],[71,39,75,41,"accumulate"],[71,49,75,51],[71,50,75,52,"onUpdate"],[71,58,75,60],[71,59,75,61],[72,4,76,4],[72,5,76,5],[73,4,78,4],[74,0,79,0],[75,0,80,0],[76,0,81,0],[77,0,82,0],[78,0,83,0],[79,4,84,4,"nodeStream"],[79,14,84,14],[79,16,84,16],[79,25,84,16,"nodeStream"],[79,26,84,26,"type"],[79,30,84,30],[79,32,84,32,"onUpdate"],[79,40,84,40],[79,42,84,42],[80,6,85,8],[80,13,85,15],[80,17,85,19],[80,18,85,20,"internalStream"],[80,32,85,34],[80,33,85,35,"type"],[80,37,85,39],[80,41,85,43],[80,53,85,55],[80,54,85,56],[80,55,85,57,"toNodejsStream"],[80,69,85,71],[80,70,85,72,"onUpdate"],[80,78,85,80],[80,79,85,81],[81,4,86,4],[81,5,86,5],[82,4,88,4],[83,0,89,0],[84,0,90,0],[85,0,91,0],[86,0,92,0],[87,0,93,0],[88,0,94,0],[89,4,95,4,"_compressWorker"],[89,19,95,19],[89,21,95,21],[89,30,95,21,"_compressWorker"],[89,31,95,31,"compression"],[89,42,95,42],[89,44,95,44,"compressionOptions"],[89,62,95,62],[89,64,95,64],[90,6,96,8],[90,10,97,12],[90,14,97,16],[90,15,97,17,"_data"],[90,20,97,22],[90,32,97,34,"CompressedObject"],[90,48,97,50],[90,52,98,12],[90,56,98,16],[90,57,98,17,"_data"],[90,62,98,22],[90,63,98,23,"compression"],[90,74,98,34],[90,75,98,35,"magic"],[90,80,98,40],[90,85,98,45,"compression"],[90,96,98,56],[90,97,98,57,"magic"],[90,102,98,62],[90,104,99,10],[91,8,100,12],[91,15,100,19],[91,19,100,23],[91,20,100,24,"_data"],[91,25,100,29],[91,26,100,30,"getCompressedWorker"],[91,45,100,49],[91,46,100,50],[91,47,100,51],[92,6,101,8],[92,7,101,9],[92,13,101,15],[93,8,102,12],[93,12,102,16,"result"],[93,18,102,22],[93,21,102,25],[93,25,102,29],[93,26,102,30,"_decompressWorker"],[93,43,102,47],[93,44,102,48],[93,45,102,49],[94,8,103,12],[94,12,103,15],[94,13,103,16],[94,17,103,20],[94,18,103,21,"_dataBinary"],[94,29,103,32],[94,31,103,34],[95,10,104,16,"result"],[95,16,104,22],[95,19,104,25,"result"],[95,25,104,31],[95,26,104,32,"pipe"],[95,30,104,36],[95,31,104,37],[95,35,104,41,"utf8"],[95,39,104,45],[95,40,104,46,"Utf8EncodeWorker"],[95,56,104,62],[95,57,104,63],[95,58,104,64],[95,59,104,65],[96,8,105,12],[97,8,106,12],[97,15,106,19,"CompressedObject"],[97,31,106,35],[97,32,106,36,"createWorkerFrom"],[97,48,106,52],[97,49,106,53,"result"],[97,55,106,59],[97,57,106,61,"compression"],[97,68,106,72],[97,70,106,74,"compressionOptions"],[97,88,106,92],[97,89,106,93],[98,6,107,8],[99,4,108,4],[99,5,108,5],[100,4,109,4],[101,0,110,0],[102,0,111,0],[103,0,112,0],[104,0,113,0],[105,4,114,4,"_decompressWorker"],[105,21,114,21],[105,23,114,24],[105,32,114,24,"_decompressWorker"],[105,33,114,24],[105,35,114,36],[106,6,115,8],[106,10,115,12],[106,14,115,16],[106,15,115,17,"_data"],[106,20,115,22],[106,32,115,34,"CompressedObject"],[106,48,115,50],[106,50,115,52],[107,8,116,12],[107,15,116,19],[107,19,116,23],[107,20,116,24,"_data"],[107,25,116,29],[107,26,116,30,"getContentWorker"],[107,42,116,46],[107,43,116,47],[107,44,116,48],[108,6,117,8],[108,7,117,9],[108,13,117,15],[108,17,117,19],[108,21,117,23],[108,22,117,24,"_data"],[108,27,117,29],[108,39,117,41,"GenericWorker"],[108,52,117,54],[108,54,117,56],[109,8,118,12],[109,15,118,19],[109,19,118,23],[109,20,118,24,"_data"],[109,25,118,29],[110,6,119,8],[110,7,119,9],[110,13,119,15],[111,8,120,12],[111,15,120,19],[111,19,120,23,"DataWorker"],[111,29,120,33],[111,30,120,34],[111,34,120,38],[111,35,120,39,"_data"],[111,40,120,44],[111,41,120,45],[112,6,121,8],[113,4,122,4],[114,2,123,0],[114,3,123,1],[115,2,125,0],[115,6,125,4,"removedMethods"],[115,20,125,18],[115,23,125,21],[115,24,125,22],[115,32,125,30],[115,34,125,32],[115,44,125,42],[115,46,125,44],[115,60,125,58],[115,62,125,60],[115,76,125,74],[115,78,125,76],[115,93,125,91],[115,94,125,92],[116,2,126,0],[116,6,126,4,"removedFn"],[116,15,126,13],[116,18,126,16],[116,27,126,16,"removedFn"],[116,28,126,16],[116,30,126,28],[117,4,127,4],[117,10,127,10],[117,14,127,14,"Error"],[117,19,127,19],[117,20,127,20],[117,96,127,96],[117,97,127,97],[118,2,128,0],[118,3,128,1],[119,2,130,0],[119,7,130,4],[119,11,130,8,"i"],[119,12,130,9],[119,15,130,12],[119,16,130,13],[119,18,130,15,"i"],[119,19,130,16],[119,22,130,19,"removedMethods"],[119,36,130,33],[119,37,130,34,"length"],[119,43,130,40],[119,45,130,42,"i"],[119,46,130,43],[119,48,130,45],[119,50,130,47],[120,4,131,4,"ZipObject"],[120,13,131,13],[120,14,131,14,"prototype"],[120,23,131,23],[120,24,131,24,"removedMethods"],[120,38,131,38],[120,39,131,39,"i"],[120,40,131,40],[120,41,131,41],[120,42,131,42],[120,45,131,45,"removedFn"],[120,54,131,54],[121,2,132,0],[122,2,133,0,"module"],[122,8,133,6],[122,9,133,7,"exports"],[122,16,133,14],[122,19,133,17,"ZipObject"],[122,28,133,26],[123,0,133,27],[123,3]],"functionMap":{"names":["<global>","ZipObject","ZipObject.prototype.internalStream","ZipObject.prototype.async","ZipObject.prototype.nodeStream","ZipObject.prototype._compressWorker","ZipObject.prototype._decompressWorker","removedFn"],"mappings":"AAA;gBCe;CDe;oBEQ;KF2B;WGQ;KHE;gBIQ;KJE;qBKS;KLa;wBMM;KNQ;gBOI;CPE"},"hasCjsExports":true},"type":"js/module"}]}